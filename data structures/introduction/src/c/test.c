#include <stdio.h>
#include <time.h>
int maxsubSequenceSum1(int arr[], int n)
{
  int maxNum = 0;
  for (int i = 0; i < n; i++)
  {
    for (int j = i; j < n; j++)
    {
      int currentNum = 0;
      for (int k = i; k <= j; k++)
      {
        currentNum += arr[k];
      }
      if (maxNum < currentNum)
      {
        maxNum = currentNum;
      }
    }
  }
  return maxNum;
}
int maxsubSequenceSum2(int arr[], int n)
{
  int maxNum = 0;
  for (int i = 0; i < n; i++)
  {
    int currentNum = 0;
    for (int j = i; j < n; j++)
    {
      currentNum += arr[j];
      if (maxNum < currentNum)
      {
        maxNum = currentNum;
      }
    }
  }
  return maxNum;
}
int Max3(int a, int b, int c)
{
  int max = (a > b ? a : b);
  return c > max ? c : max;
}
int maxsubSequenceSum3(int arr[], int start, int end)
{
  if (start == end)
  {
    if (arr[start] > 0)
    {
      return arr[start];
    }
    return 0;
  }
  int center = (start + end) / 2;
  int rmax = maxsubSequenceSum3(arr, start, center);
  int lmax = maxsubSequenceSum3(arr, center + 1, end);
  int rmmax = 0, rrmax = 0;
  for (int i = center; i >= start; i--)
  {
    rrmax += arr[i];
    if (rmmax < rrmax)
    {
      rmmax = rrmax;
    }
  }
  int lmmax = 0, lrmax = 0;
  for (int i = center + 1; i <= end; i++)
  {
    lrmax += arr[i];
    if (lmmax < lrmax)
    {
      lmmax = lrmax;
    }
  }
  return Max3(rmax, lmax, rmmax + lmmax);
}
int maxsubSequenceSum4(int arr[], int n)
{
  int maxNum = 0, currentNum = 0;
  for (int i = 0; i < n; i++)
  {
    currentNum += arr[i];
    if (maxNum < currentNum)
    {
      maxNum = currentNum;
    }
    else if (currentNum < 0)
    {
      currentNum = 0;
    }
  }
  return maxNum;
}
int main(int argc, char *argv[])
{
  int li[] = {2344, 1745, 4896, 15143, 1431, -1283, 19666, 4607, 3217, 17602, -1763, 19378, 14245, 1631, 3915, 16828, -9341, -2016, 10042, -2344, -8648, 18365, -8770, 19974, 20300, -7097, 4120, 9823, -6757, 7373, 21304, -6248, -268, -559, 8883, 19288, -653, 6509, 898, -4295, 7838, 9797, 5760, -1120, 10306, 8492, 22178, -5315, 1803, -8811, -268, 16225, 15078, 12480, 21591, 11523, 11543, 9120, 20220, 3728, 19481, 22414, -8289, 9846, 2361, 2480, 19588, -401, 5105, -7897, -7630, -4210, -4347, -3076, -3086, 7946, 15199, 11976, -6138, -1075, 21675, 2853, 19370, 2236, 7090, 16600, 10956, -59, 2680, -8774, 10122, 6570, -4588, -3989, 3439, 1679, -7598, 12726, -9107, -7356, -5367, 22723, 1946, 14163, 18237, 1535, -7253, 18377, -9739, -3892, 305, 19141, 17627, 17384, -4459, 18369, 4245, 21661, 7637, 12451, -282, 8365, -5637, -125, -7549, 16124, -1950, -6853, 6326, 12027, -3672, 21680, 180, 13017, 20082, -2335, 3263, 8296, 13283, 21428, 18684, 21711, 7129, 15227, -3054, 14069, 17645, 15689, 1414, -2903, 9769, 13816, 15833, -6511, -7544, 17397, 7263, 18137, -2002, 11218, 22237, 9879, 10092, -1655, 12010, 19968, 19826, -5487, 16642, -3251, 11985, -4957, 10602, -2965, -4680, 15689, 6856, -155, 10219, -2517, 17022, 21905, -1918, 4633, 5834, 5502, -9881, 14039, -5473, 14233, 8333, 20396, -7360, 10657, 5361, 17577, 11170, 13521, 22353, -9542, 383, 6855, 6831, 2158, -1990, 5430, -6012, 19334, 3446, 9295, -4923, 19263, -5260, 22512, 1431, 21343, -2768, -117, 4817, -3070, -1989, -4907, 16693, 21025, 8279, 13618, 19822, -2841, 2260, 7651, -1335, 7092, 1965, 7917, 14771, -5907, 3681, 10440, 14839, -4726, 15507, 6349, -6988, -7843, 97, 2141, -1505, 5155, -8060, -7472, 20222, -7348, 19500, -4572, -6688, 16522, 3225, 12898, -8163, 5403, 13433, -5169, 657, 3543, 10501, -3112, 18967, 7161, 8410, 19643, 19399, 13997, 13464, 15349, -8976, 10589, -8900, 8047, 16084, -1348, -963, -5785, 18982, 14479, 18793, -4321, 22084, 13374, 17022, -2488, 22580, -994, -1912, 11565, -2720, 7548, 22270, -1632, 1553, -1175, 16538, 19109, 17325, 17992, 7676, 22752, 7857, -8168, 14845, 446, -1940, 14722, 2004, 10598, 15489, -3166, 12011, 20318, 5658, 21141, -1921, 16893, 15596, 19655, -1286, 7317, 5615, 17145, 7952, -932, 9179, 11541, -9573, 6175, 865, 18353, 15671, 9893, -4306, 3685, 10909, 16356, 1953, 3789, -8512, 9446, -9658, -8099, 6057, 6777, -6886, 19687, 275, 17049, 4478, -2579, 15814, 8350, -7433, 680, 10932, 13349, 21931, 8917, 14293, 22208, 10395, -3518, -3390, 18525, 4001, 2332, 7955, 5751, 2345, 17653, -1926, 18942, 21423, 5784, -1380, 2055, 16124, -8051, 19123, 4404, 21792, 12906, 7909, 19425, 5934, -4896, 16225, 17683, 18874, 6785, -705, 21537, 3347, 2386, 15124, 19744, 15681, -3819, -7336, -4592, 21949, 12883, -6023, -3385, 21747, -1493, 10939, -1119, -9352, 22237, -8234, 13029, 779, 2326, 22605, -8970, 10573, 7673, 16016, 16190, 10816, 7665, 11217, 2522, 18049, -9159, 11942, 12293, 12614, 13096, 8035, -9402, 533, 14654, -8651, -6823, 1610, 15087, 22271, 1247, 11846, 1329, -6411, 6341, 4727, 19655, -7, 15988, 19469, 15947, 9656, 7869, 7541, 766, 8324, 7554, 9885, 18000, 496, 22565, 8423, 2094, 22317, 7858, -8470, 18446, 9511, 21452, 3051, 21691, 2655, -8360, -6370, 19680, 8839, 8171, -2404, 7255, 2015, 1780, -4572, 559, 3666, 19369, 17810, -5249, 5199, -8013, 15135, 12013, 1384, 6296, 15710, -2819, -5459, 9452, -1806, -9957, 9414, -9161, 1552, 3943, 11219, -3419, -3656, 6978, -3836, 4464, 7858, -7524, 15863, -1778, 14923, 10748, 11733, 6682, 16589, 17740, 7211, 20738, 19903, 2410, 9608, 12406, 13281, 19055, 5596, 1676, 6374, -3395, -8053, 2227, 4335, -309, -428, 21086, -2612, -5712, 19685, 8812, -2575, 22128, 19514, 857, 5946, 522, 21945, 18983, 10590, 19005, 10511, 6154, -7115, 21790, -5432, 19158, 11690, 9563, -3919, 2089, 17278, 10061, -2067, 20312, 17601, 703, 8409, 15898, 22289, 15744, 19617, -3081, -7279, -1365, 14495, 16494, 10153, -7503, -3209, 2025, 5503, 43, 2035, 2913, 16440, 7521, -1633, -303, 20463, -4455, -4316, 6748, 14706, 5409, 9829, 4669, 13759, 18204, 3675, 8562, 13633, 10252, 8881, 4904, 19146, 7715, -6881, -2331, 19023, 12361, 4230, -5256, 5991, 14572, -7728, 11424, -8318, -1652, 4741, 20350, 15337, -9470, -7890, -9796, -2183, -6509, 17258, 8059, -3041, 17336, 7633, 5118, -5101, 18091, 7564, -1768, 2772, -9295, 4017, 6485, 6630, -9429, 21087, -1813, 15694, 4698, 15262, 10591, -1078, 3317, 4595, 11255, 3792, -5268, -3386, 3811, 13901, 20986, 17013, 12586, 3098, 15469, 564, -9898, 4926, 17077, 10155, 2782, -282, 6702, 21069, 18008, -4827, -8275, -1415, 8283, 4459, -2484, -2477, -9419, 2759, 1782, -3999, -4270, -7715, -4943, 11237, 11879, -5467, 6574, 13052, -4767, 1512, 16658, 19067, -7919, -389, 20866, 18309, 6548, -454, 3185, 8940, 18563, 22212, 17961, -6579, 15840, 6648, 6810, 20202, 18363, 15922, 8934, 16965, -8025, 19014, -2136, -3966, 22752, 17720, 3080, 16506, -6599, -6719, 11648, -7778, 18120, 15747, 13419, 8082, -7600, -9209, 12626, 21381, 5745, 9594, 8950, 3922, 6545, -9940, 285, -8616, 8329, 964, 10269, 14362, 13072, -9916, -3799, 149, -9496, 12992, 863, 12901, 6602, 11229, 10637, 3734, 21010, 7180, 14535, -4533, 3626, -6268, 21417, 4625, 21176, -7167, 5740, 2817, -6265, 19774, -2133, 6551, 17206, 1331, -5645, 7765, 1443, 7183, 2573, -2025, 11541, -9228, -6646, -5067, -3541, 21620, 10515, -2981, -2424, 8655, 14317, 3623, 12860, -5142, 2639, -6009, 19441, -9969, 19684, 2769, 18394, -3992, 6174, 20895, 14683, 10296, 18369, -8848, -7304, 7135, 16170, 20224, -3072, 9611, 9827, -4765, 17782, 22462, -5143, 4580, 21442, 4741, 5944, -2657, 20380, 12402, 14362, 15584, -844, 1886, -332, -9158, 18081, 14560, 18509, 13159, 14480, 3723, 11485, -1565, 17321, -8725, -9894, -9913, 64, 12350, 17090, 20838, 21952, 10739, -537, 16937, 13656, -4636, 18429, 14122, 21347, -1966, 3044, 20755, 2968, 11684, -4042, -5963, -9226, 6367, 14864, 18408, 8812, 5605, 4257, 5157, 2380, -7315, -4748, 18148, 20078, 22726, 17789, 20406, 20772, 15179, 14053, 15394, 4833, -4187, 18325, 321, 5800, 707, 132, 17177, 19254, 18074, -3647, 13753, -5138, -355, -5312, -3048, 1161, 22524, -2460, -5970, 890, 10652, -9136, 9168, 1826, 14297, 17646, 15308, 20920, -2050, 15035, 4809, 4086, 3968, 8025, 7771, -8572, 2814, -9006, 3305, 14885, 2297, -8275, -6977, 18084, 21587, 9651, -1806, 6268, 10889, -4738, 20471, -4790, 10671, 21190, 22530, -269, 8752, -7317, 1312, -8811, 18499, -1726, 13587, -977, 301, -7008, -2831, -9201, 18489, 13223, 1147, 767, -6281, 8787, 13118, 10286, 55, -189, -3220, 17376, 8003, 4424, 15991, -4651, 22752, 18863, 10099, 13947, 10371, 20302, 14121, -6445, 4180, 11857, -4614, 21283, 13412, 14530, 1914, 11360, -4691, -7207, -9272, -934, 4301, 11785, -1361, 14501, -7038};
  int size = sizeof(li) / sizeof(int);
  printf("数组大小%d\n", size);
  int start = 0, end = 0;
  start = clock();
  maxsubSequenceSum1(li, size);
  end = clock();
  printf("方法一 运行耗时 %d\n", end - start);
  start = clock();
  maxsubSequenceSum2(li, size);
  end = clock();
  printf("方法二 运行耗时 %d\n", end - start);
  start = clock();
  maxsubSequenceSum3(li, 0, 39);
  end = clock();
  printf("方法三 运行耗时 %d\n", end - start);
  start = clock();
  maxsubSequenceSum4(li, size);
  end = clock();
  printf("方法四 运行耗时 %d\n", end - start);
  return 0;
}
