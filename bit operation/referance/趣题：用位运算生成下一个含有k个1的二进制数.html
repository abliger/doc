<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>趣题：用位运算生成下一个含有k个1的二进制数 | Matrix67: The Aha Moments</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="http://www.matrix67.com/blog/xmlrpc.php">
<script src="http://www.matrix67.com/blog/wp-content/themes/matrix67/js/jquery-2.1.0.min.js"></script>
<script src="http://www.matrix67.com/blog/wp-content/themes/matrix67/js/old-theme.js" type="text/javascript"></script>
<link rel="stylesheet" href="http://www.matrix67.com/blog/wp-content/themes/matrix67/css/old-theme.css" type="text/css" media="all">
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Matrix67: The Aha Moments &raquo; Feed" href="http://www.matrix67.com/blog/feed" />
<link rel="alternate" type="application/rss+xml" title="Matrix67: The Aha Moments &raquo; Comments Feed" href="http://www.matrix67.com/blog/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Matrix67: The Aha Moments &raquo; 趣题：用位运算生成下一个含有k个1的二进制数 Comments Feed" href="http://www.matrix67.com/blog/archives/813/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.matrix67.com\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.23"}};
			!function(e,o,t){var a,n,r;function i(e){var t=o.createElement("script");t.src=e,t.type="text/javascript",o.getElementsByTagName("head")[0].appendChild(t)}for(r=Array("simple","flag","unicode8","diversity","unicode9"),t.supports={everything:!0,everythingExceptFlag:!0},n=0;n<r.length;n++)t.supports[r[n]]=function(e){var t,a,n=o.createElement("canvas"),r=n.getContext&&n.getContext("2d"),i=String.fromCharCode;if(!r||!r.fillText)return!1;switch(r.textBaseline="top",r.font="600 32px Arial",e){case"flag":return(r.fillText(i(55356,56806,55356,56826),0,0),n.toDataURL().length<3e3)?!1:(r.clearRect(0,0,n.width,n.height),r.fillText(i(55356,57331,65039,8205,55356,57096),0,0),a=n.toDataURL(),r.clearRect(0,0,n.width,n.height),r.fillText(i(55356,57331,55356,57096),0,0),a!==n.toDataURL());case"diversity":return r.fillText(i(55356,57221),0,0),a=(t=r.getImageData(16,16,1,1).data)[0]+","+t[1]+","+t[2]+","+t[3],r.fillText(i(55356,57221,55356,57343),0,0),a!=(t=r.getImageData(16,16,1,1).data)[0]+","+t[1]+","+t[2]+","+t[3];case"simple":return r.fillText(i(55357,56835),0,0),0!==r.getImageData(16,16,1,1).data[0];case"unicode8":return r.fillText(i(55356,57135),0,0),0!==r.getImageData(16,16,1,1).data[0];case"unicode9":return r.fillText(i(55358,56631),0,0),0!==r.getImageData(16,16,1,1).data[0]}return!1}(r[n]),t.supports.everything=t.supports.everything&&t.supports[r[n]],"flag"!==r[n]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[r[n]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(a=function(){t.readyCallback()},o.addEventListener?(o.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1)):(e.attachEvent("onload",a),o.attachEvent("onreadystatechange",function(){"complete"===o.readyState&&t.readyCallback()})),(a=t.source||{}).concatemoji?i(a.concatemoji):a.wpemoji&&a.twemoji&&(i(a.twemoji),i(a.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='matrix67-style-css'  href='http://www.matrix67.com/blog/wp-content/themes/matrix67/style.css?ver=4.6.23' type='text/css' media='all' />
<link rel='https://api.w.org/' href='http://www.matrix67.com/blog/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.matrix67.com/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.matrix67.com/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Light-Bot：一个编程启蒙游戏' href='http://www.matrix67.com/blog/archives/810' />
<link rel='next' title='趣题：尽可能用奇数次猜测完成猜数游戏' href='http://www.matrix67.com/blog/archives/830' />
<meta name="generator" content="WordPress 4.6.23" />
<link rel="canonical" href="http://www.matrix67.com/blog/archives/813" />
<link rel='shortlink' href='http://www.matrix67.com/blog/?p=813' />
<link rel="alternate" type="application/json+oembed" href="http://www.matrix67.com/blog/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.matrix67.com%2Fblog%2Farchives%2F813" />
<link rel="alternate" type="text/xml+oembed" href="http://www.matrix67.com/blog/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.matrix67.com%2Fblog%2Farchives%2F813&#038;format=xml" />
</head>

<body class="single single-post postid-813 single-format-standard">
<div id="page" class="hfeed site">

	<header id="masthead" class="site-header" role="banner">
		<div class="site-branding">
			<h1 class="site-title"><a href="http://www.matrix67.com/blog/" rel="home">Matrix67: The Aha Moments</a></h1>
		</div>
		<aside id="search" class="widget_search">
			<form role="search" method="get" class="search-form" action="http://www.matrix67.com/blog/">
	<label>
		<span class="screen-reader-text"></span>
		<input type="search" class="search-field" value="" name="s" title="" />
	</label>
	<input type="submit" class="search-submit" value="&#59393;" />
</form>		</aside>
	</header><!-- #masthead -->

	<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
	<aside id="notice">这是一篇旧文，点击<a id="theme-toggle">此处</a>以旧主题模式浏览。</aside>
<article id="post-813" class="post-813 post type-post status-publish format-standard hentry category-uncategorized tag-409 tag-412 tag-242 tag-281">
	<header class="entry-header">
		<h1 class="entry-title">趣题：用位运算生成下一个含有k个1的二进制数</h1>
	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>&nbsp;&nbsp;&nbsp;&nbsp;在所有8-bit的整数中，含有k个数字“1”的二进制数一共有C(8,k)个。给出其中的一个二进制数，你如何利用位运算快速找到下一个恰有k个“1”的数？例如，如果给你二进制数01011100，那么下一个（含4个“1”的）数就是01100011。在继续阅读下去之前，建议你仔细思考一下。你或许会想看看我很早以前写的一篇<a href="http://www.matrix67.com/blog/archives/263">介绍位运算的文章</a>。这是一道很好的题目，很多位运算技巧在这里都有体现。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;在草稿纸上随便举几个例子，规律很容易看出来。由于“1”的个数是固定的，为了让这个二进制数更大，我们必须把第一个出现在“1”左边的“0”改成“1”；同时，为了让这个二进制数尽可能小，我们必须把它右边那些“1”重新排到最低位去。<br />
&nbsp;&nbsp;&nbsp;&nbsp;更具体地说，下一个二进制数可以通过以下步骤得到：找到右起第一个单个的或连续的数字“1”，把它们全改成“0”，同时把它们左边的那个“0”改为“1”。此时，“1”的个数可能减少了，我们只需把还差的“1”摆在最右边就行了。举个例子，01011100的右起第一个“1”在第三位，把它和左边紧挨着的“1”一并变为“0”，并把再左边那个“0”变为“1”，于是我们得到01100000。我们还差两个“1”，把这两个“1”补在最低位得到01100011即可。现在我们的任务是，想出一个用位运算来实现这些步骤的办法。<br />
&nbsp;&nbsp;&nbsp;&nbsp;我们已经熟知，用x &#038; -x可以提取最右边的那个“1”。当意识到可以利用加法来消除连续的“1”时，我们很快得到了第一步操作的位运算实现：把x &#038; -x加到x上，利用二进制加法的进位把“..01111..”变成“..10000..”。现在，我们需要计算出刚才的操作中一共“跳过”了多少个“1”，换句话说现在的x的右起第一个“1”和原来的x的右起第一个“1”差了多少位。关键就在这里！我们可以用除法来完成这一步，例如100000除以100就相当于把被除数右移2位，得到的结果即可以表示两个数中的“1”差了多少位。在最低位产生指定数量的“1”需要用到另一个技巧：减1操作可以把右边连续的“0”都变成“1”，即把&#8230;10000变成&#8230;01111。我们得到了该问题的第一个算法：</p>
<p><code>b = x & -x;<br />
t = x + b;<br />
c = t & -t;<br />
m = (c/b >> 1) - 1;<br />
r = t | m; //最终结果</code></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;我们对上述算法做一个简单的说明：</p>
<p style="font-family:simsun">操作&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 样例&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;说明<br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-<br />
x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 01011100&nbsp;|&nbsp;&nbsp;原数<br />
b = x &#038; -x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 00000100&nbsp;|&nbsp;&nbsp;提取x的右起第一个“1”<br />
t = x + b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 01100000&nbsp;|&nbsp;&nbsp;把x的右起第一个位于某个“1”左边的“0”变成“1”，并把它右边的那些“1”都变为“0”<br />
c = t &#038; -t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 00100000&nbsp;|&nbsp;&nbsp;提取t的右起第一个“1”<br />
c / b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 00001000&nbsp;|&nbsp;&nbsp;右移c中的那个“1”，其结果中最低位连续的“0”的个数正好是c和b中的“1”相差的距离<br />
m = (c/b >> 1) &#8211; 1| 00000011&nbsp;|&nbsp;&nbsp;在最低位产生数字“1”，其个数比上述的“距离”少1<br />
r = t | m&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 01100011&nbsp;|&nbsp;&nbsp;最终结果</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;除去赋值，我们一共用了9个运算符。有可能用更少的运算么？</p>
<p><span id="more-813"></span><br />
&nbsp;&nbsp;&nbsp;&nbsp;回想x^(x-1)的作用：保留右起第一个“1”，同时把右起连续的“0”也都变为“1”；直观地说，“&#8230;10000”异或“&#8230;01111”得到“11111”。巧妙就巧妙在，我可以用c=t^(t-1)同时完成定位右起第一个“1”和产生足够多的数字“1”两个步骤。我们的新算法省下了一个运算，只需要8个运算符：</p>
<p><code>b = x & -x;<br />
t = x + b;<br />
c = t ^ (t-1);<br />
m = (c >> 2) / b;<br />
r = t | m; //最终结果</code></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;同样地，我们做一个简单的说明：</p>
<p style="font-family:simsun">操作&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 样例&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;说明<br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-<br />
x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 01011100&nbsp;|&nbsp;&nbsp;原数<br />
b = x &#038; -x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 00000100&nbsp;|&nbsp;&nbsp;提取x的右起第一个“1”<br />
t = x + b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 01100000&nbsp;|&nbsp;&nbsp;把x的右起第一个位于某个“1”左边的“0”变成“1”，并把它右边的那些“1”都变为“0”<br />
c = t ^ (t-1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 00111111&nbsp;|&nbsp;&nbsp;提取t的右起第一个“1”，同时把后面的“0”也全变为“1”<br />
m = (c >> 2) / b&nbsp;&nbsp;| 00000011&nbsp;|&nbsp;&nbsp;把c右移两位，再右移b所表示的位数<br />
r = t | m&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 01100011&nbsp;|&nbsp;&nbsp;最终结果</p>
<p>&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;现在，我们只用了8个运算符便完成了最初提到的一系列操作。这个数目还能再少吗？其实，这里面还有一个非常隐蔽的可改进之处：计算c时我们根本不需要用t来异或t-1，直接异或x就行了，它所产生的“1”的个数显然足够多。这样，我们又可以节省一个运算符了：</p>
<p><code>b = x & -x;<br />
t = x + b;<br />
c = t ^ x;<br />
m = (c >> 2) / b;<br />
r = t | m; //最终结果</code></p>
<p style="font-family:simsun">操作&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 样例&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;说明<br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-<br />
x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 01011100&nbsp;|&nbsp;&nbsp;原数<br />
b = x &#038; -x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 00000100&nbsp;|&nbsp;&nbsp;提取x的右起第一个“1”<br />
t = x + b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 01100000&nbsp;|&nbsp;&nbsp;把x的右起第一个位于某个“1”左边的“0”变成“1”，并把它右边的那些“1”都变为“0”<br />
c = t ^ x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 00111100&nbsp;|&nbsp;&nbsp;提取t的右起第一个“1”，同时把后面足够多的“0”也全变为“1”<br />
m = (c >> 2) / b&nbsp;&nbsp;| 00000011&nbsp;|&nbsp;&nbsp;把c右移两位，再右移b所表示的位数<br />
r = t | m&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 01100011&nbsp;|&nbsp;&nbsp;最终结果</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;这次，我们只用了7个运算就实现了题目的要求。还能继续优化吗？欢迎大家继续讨论！<br />
&nbsp;&nbsp;&nbsp;&nbsp;来源：<a href="http://realtimecollisiondetection.net/blog/?p=78">http://realtimecollisiondetection.net/blog/?p=78</a></p>
			</div><!-- .entry-content -->

	<footer class="entry-footer">
		<div class="entry-meta">
			<span class="posted-on"><a href="http://www.matrix67.com/blog/archives/813" rel="bookmark"><time class="entry-date published" datetime="2008-09-24T12:25:12+00:00">2008 年 9 月 24 日</time></a></span>			/ <a href="http://www.matrix67.com/blog/archives/tag/%e4%bb%a3%e7%a0%81" rel="tag">代码</a>, <a href="http://www.matrix67.com/blog/archives/tag/%e4%bd%8d%e8%bf%90%e7%ae%97" rel="tag">位运算</a>, <a href="http://www.matrix67.com/blog/archives/tag/%e7%ae%97%e6%b3%95" rel="tag">算法</a>, <a href="http://www.matrix67.com/blog/archives/tag/%e8%b6%a3%e9%a2%98" rel="tag">趣题</a>					</div><!-- .entry-meta -->

	</footer><!-- .entry-footer -->
</article><!-- #post-## -->
			<div id="rss"><a href="http://www.matrix67.com/blog/feed" target="_blank">&#59392;</a></div>
			<!--php matrix67_post_nav(); -->

			
<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			14 条评论		</h2>

		
		<ul class="comment-list">
				<li class="comment even thread-even depth-1" id="comment-9727">
	<img alt='' src='http://2.gravatar.com/avatar/28ca91215644b8484d80eed7c9e95b90?s=48&#038;d=mm&#038;r=r' srcset='http://2.gravatar.com/avatar/28ca91215644b8484d80eed7c9e95b90?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn"><a href='http://hi.baidu.com/satily' rel='external nofollow' class='url'>Satily</a></cite>			
		<p>沙发~~^_^</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9727">
			2008年9月24日 12:59</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9727#respond' onclick='return addComment.moveForm( "div-comment-9727", "9727", "respond", "813" )' aria-label='Reply to Satily'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-9728">
	<img alt='' src='http://0.gravatar.com/avatar/9d60c281b5a7112c7a7c2d63bd97fe09?s=48&#038;d=mm&#038;r=r' srcset='http://0.gravatar.com/avatar/9d60c281b5a7112c7a7c2d63bd97fe09?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn"><a href='http://dede.cn' rel='external nofollow' class='url'>brute</a></cite>			
		<p>好强啊，以前看过构造组合的算法，不过是用bool数组实现<br />
现在用位运算，那又降了一维吧<br />
可以写个next_combination函数吧</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9728">
			2008年9月24日 13:07</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9728#respond' onclick='return addComment.moveForm( "div-comment-9728", "9728", "respond", "813" )' aria-label='Reply to brute'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-9729">
	<img alt='' src='http://0.gravatar.com/avatar/fe4352312fb74dbf645ec38ce8e3cec8?s=48&#038;d=mm&#038;r=r' srcset='http://0.gravatar.com/avatar/fe4352312fb74dbf645ec38ce8e3cec8?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn">crazyb0y</cite>			
		<p><a href="http://forums.topcoder.com/?module=Thread&#038;threadID=623246&#038;start=0&#038;mc=36" rel="nofollow">http://forums.topcoder.com/?module=Thread&#038;threadID=623246&#038;start=0&#038;mc=36</a></p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9729">
			2008年9月24日 15:11</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9729#respond' onclick='return addComment.moveForm( "div-comment-9729", "9729", "respond", "813" )' aria-label='Reply to crazyb0y'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-9730">
	<img alt='' src='http://1.gravatar.com/avatar/10feddf0b80db8b7f41c7769a143c1b8?s=48&#038;d=mm&#038;r=r' srcset='http://1.gravatar.com/avatar/10feddf0b80db8b7f41c7769a143c1b8?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn">manson</cite>			
		<p>work hard ! tired</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9730">
			2008年9月24日 22:35</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9730#respond' onclick='return addComment.moveForm( "div-comment-9730", "9730", "respond", "813" )' aria-label='Reply to manson'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-9731">
	<img alt='' src='http://0.gravatar.com/avatar/61790ed1458393d76b178fad7055fa17?s=48&#038;d=mm&#038;r=r' srcset='http://0.gravatar.com/avatar/61790ed1458393d76b178fad7055fa17?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn">Assassin_cpy</cite>			
		<p>很强大的说</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9731">
			2008年9月24日 23:44</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9731#respond' onclick='return addComment.moveForm( "div-comment-9731", "9731", "respond", "813" )' aria-label='Reply to Assassin_cpy'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-9732">
	<img alt='' src='http://2.gravatar.com/avatar/ebc8979b574cf5b28260fb8d2169914f?s=48&#038;d=mm&#038;r=r' srcset='http://2.gravatar.com/avatar/ebc8979b574cf5b28260fb8d2169914f?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn"><a href='http://lowsars.sf.net' rel='external nofollow' class='url'>oldherl</a></cite>			
		<p>但是，用除法这种费时间的东西真的有用吗？</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9732">
			2008年9月25日 09:02</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9732#respond' onclick='return addComment.moveForm( "div-comment-9732", "9732", "respond", "813" )' aria-label='Reply to oldherl'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-9733">
	<img alt='' src='http://1.gravatar.com/avatar/446f2694971e2e62a980063fdbda9989?s=48&#038;d=mm&#038;r=r' srcset='http://1.gravatar.com/avatar/446f2694971e2e62a980063fdbda9989?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn">superfish</cite>			
		<p>呵呵，看了你几篇关于位运算的文章，很有启发性啊！下面这道题我用递归解决的，牛牛看看能不能用位运算搞定，感觉好像可以，但没想出啥方法来。</p>
<p>题目：实现一个函数int func(unsigned int n)，对一个正整数n，算得到1需要的最少操作次数：如果n为偶数，将其除以2；如果n为奇数，可以加1或减1；一直处理下去。</p>
<p>递归实现：<br />
int function(unsigned int n)<br />
{<br />
	if(n == 1) return 0;<br />
	if(n % 2 == 0) return (1 + function(n/2));<br />
	return (min(function(n+1), function(n-1)) + 1);<br />
}</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9733">
			2008年9月27日 23:50</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9733#respond' onclick='return addComment.moveForm( "div-comment-9733", "9733", "respond", "813" )' aria-label='Reply to superfish'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-9734">
	<img alt='' src='http://1.gravatar.com/avatar/79ce45ef7b85c76629bff9e4ddba6b56?s=48&#038;d=mm&#038;r=r' srcset='http://1.gravatar.com/avatar/79ce45ef7b85c76629bff9e4ddba6b56?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn">ted</cite>			
		<p>介绍一本书.机械工业出版社的就是专门讲类似的小技巧的.这篇Blog讲到的东东,里面也有讲到.</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9734">
			2008年12月29日 19:24</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9734#respond' onclick='return addComment.moveForm( "div-comment-9734", "9734", "respond", "813" )' aria-label='Reply to ted'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-9735">
	<img alt='' src='http://0.gravatar.com/avatar/386f9febe45f9f382b42f6aaccf6a797?s=48&#038;d=mm&#038;r=r' srcset='http://0.gravatar.com/avatar/386f9febe45f9f382b42f6aaccf6a797?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn"><a href='http://user.qzone.qq.com/251815992/' rel='external nofollow' class='url'>小岛</a></cite>			
		<p>有人知道什么是open set么&#8230;<br />
我不知道有没有办法解决地壳的问题&#8230;<br />
写了一个程序输出了一下那个序列&#8230;<br />
很没有规律&#8230;..<br />
在OLES查了一下&#8230;有很多十分相类似的&#8230;却没有什么头绪的样子&#8230;#24<br />
<a href="http://www.research.att.com/~njas/sequences/index.html?q=0%2C1%2C2%2C2%2C3%2C3%2C4%2C3%2C4%2C4%2C5%2C4%2C5%2C5%2C5%2C4&#038;language=english" rel="nofollow">http://www.research.att.com/~njas/sequences/index.html?q=0%2C1%2C2%2C2%2C3%2C3%2C4%2C3%2C4%2C4%2C5%2C4%2C5%2C5%2C5%2C4&#038;language=english</a></p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9735">
			2009年3月28日 16:51</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9735#respond' onclick='return addComment.moveForm( "div-comment-9735", "9735", "respond", "813" )' aria-label='Reply to 小岛'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-9736">
	<img alt='' src='http://0.gravatar.com/avatar/386f9febe45f9f382b42f6aaccf6a797?s=48&#038;d=mm&#038;r=r' srcset='http://0.gravatar.com/avatar/386f9febe45f9f382b42f6aaccf6a797?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn"><a href='http://user.qzone.qq.com/251815992/' rel='external nofollow' class='url'>小岛</a></cite>			
		<p>&#8230;顺便说一下..我觉得那本书里讲解一定没有这里好啦&#8230;</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9736">
			2009年3月28日 16:52</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9736#respond' onclick='return addComment.moveForm( "div-comment-9736", "9736", "respond", "813" )' aria-label='Reply to 小岛'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-9737">
	<img alt='' src='http://0.gravatar.com/avatar/386f9febe45f9f382b42f6aaccf6a797?s=48&#038;d=mm&#038;r=r' srcset='http://0.gravatar.com/avatar/386f9febe45f9f382b42f6aaccf6a797?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn">小岛</cite>			
		<p>今天做了下&#8230;Ural 1057. Amount of degrees&#8230;<br />
突然发现可以应用1下这个例子耶~</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9737">
			2009年3月30日 21:31</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9737#respond' onclick='return addComment.moveForm( "div-comment-9737", "9737", "respond", "813" )' aria-label='Reply to 小岛'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-9738">
	<img alt='' src='http://0.gravatar.com/avatar/05703e7ae12b5208497a07a10dd45bf0?s=48&#038;d=mm&#038;r=r' srcset='http://0.gravatar.com/avatar/05703e7ae12b5208497a07a10dd45bf0?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn">dchneric</cite>			
		<p><a href="http://fayaa.com/tiku/view/47/" rel="nofollow">http://fayaa.com/tiku/view/47/</a></p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9738">
			2010年3月28日 01:46</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9738#respond' onclick='return addComment.moveForm( "div-comment-9738", "9738", "respond", "813" )' aria-label='Reply to dchneric'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="comment-9739">
	<img alt='' src='http://2.gravatar.com/avatar/eaba0a4d6304d555bbec4efeac7900d4?s=48&#038;d=mm&#038;r=r' srcset='http://2.gravatar.com/avatar/eaba0a4d6304d555bbec4efeac7900d4?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn"><a href='http://blog.sina.com.cn/u/2295614360' rel='external nofollow' class='url'>Qwerty</a></cite>			
		<p>看到 b = x &amp; -x 时突然有灵感了，在记事本中写了一下，发现和最后final的一样；曾经写过一个模拟组合函数C的小程序，假如当时就知道这种算法了，那该有多好！不过当时还小。。</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9739">
			2011年12月28日 00:05</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9739#respond' onclick='return addComment.moveForm( "div-comment-9739", "9739", "respond", "813" )' aria-label='Reply to Qwerty'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-9740">
	<img alt='' src='http://2.gravatar.com/avatar/595d75734043e6146493edf2e6fe7175?s=48&#038;d=mm&#038;r=r' srcset='http://2.gravatar.com/avatar/595d75734043e6146493edf2e6fe7175?s=96&amp;d=mm&amp;r=r 2x' class='avatar avatar-48 photo' height='48' width='48' />	<div class="comment-text">
		<cite class="fn"><a href='http://www.ecyclejerseys.com' rel='external nofollow' class='url'>cervelo</a></cite>			
		<p>很强大的说</p>
	
		<div class="comment-meta commentmetadata"><a href="http://www.matrix67.com/blog/archives/813#comment-9740">
			2012年12月6日 10:53</a>
			 / <a rel='nofollow' class='comment-reply-link' href='http://www.matrix67.com/blog/archives/813?replytocom=9740#respond' onclick='return addComment.moveForm( "div-comment-9740", "9740", "respond", "813" )' aria-label='Reply to cervelo'>回复</a>		</div>
	</div>
</li><!-- #comment-## -->
		</ul><!-- .comment-list -->

		
	
	
					<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/archives/813#respond" style="display:none;">取消回复</a></small></h3>				<form action="http://www.matrix67.com/blog/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<div class="comment-form-comment"><label for="comment">评论</label><div><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></div></div><div class="comment-form-author"><label for="author" class="ir">昵称<span class="required">*</span></label><input id="author" name="author" type="text" value="" size="30" /></div>
<div class="comment-form-email"><label for="email" class="ir">邮箱<span class="required">*</span></label><input id="email" name="email" type="text" value="" size="30" /></div>
<div class="comment-form-url"><label for="url" class="ir">网站</label><input id="url" name="url" type="text" value="" size="30" /></div>
<p class="form-submit"><input name="submit" type="submit" id="submit_comment" class="submit" value="提交" /> <input type='hidden' name='comment_post_ID' value='813' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="b9f825b687" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="190"/></p>				</form>
					</div><!-- #respond -->
		
</div><!-- #comments -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

	<div id="secondary" class="widget-area" role="complementary">
		
	</div><!-- #secondary -->

	</div><!-- #content -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
			Powered by <a href="http://wordpress.org/" target="_blank">WordPress</a>
			<span class="sep"> | </span>
			Designed by <a href="http://localhost-8080.com" rel="designer" target="_blank">♥ Localhost</a>
			<span class="sep"> | </span>
			Creative Commons <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh_TW" target="_blank">BY-NC-SA</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<div style="display:none"><script src="http://s44.cnzz.com/stat.php?id=349609&amp;web_id=349609&amp;show=pic" language="JavaScript" charset="gb2312" type="text/javascript">
</script></div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1093817-1";
urchinTracker();
</script>

<script type='text/javascript' src='http://www.matrix67.com/blog/wp-content/plugins/akismet/_inc/form.js?ver=3.1.11'></script>
<script type='text/javascript' src='http://www.matrix67.com/blog/wp-content/themes/matrix67/js/navigation.js?ver=20120206'></script>
<script type='text/javascript' src='http://www.matrix67.com/blog/wp-content/themes/matrix67/js/skip-link-focus-fix.js?ver=20130115'></script>
<script type='text/javascript' src='http://www.matrix67.com/blog/wp-includes/js/comment-reply.min.js?ver=4.6.23'></script>
<script type='text/javascript' src='http://www.matrix67.com/blog/wp-includes/js/wp-embed.min.js?ver=4.6.23'></script>

</body>
</html>
<!-- Dynamic page generated in 0.267 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2022-06-17 21:58:19 -->

<!-- super cache -->